if (pos < 0) {
    pos = 0;
}

if (pos > pos_limit) {
    pos = pos_limit;
}